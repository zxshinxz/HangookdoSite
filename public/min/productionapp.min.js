var hangookdoApp=angular.module("hangookdoApp",["ngTouch","ngAnimate","ngCookies","ngResource","ngSanitize","ngRoute","angularFileUpload","ui.bootstrap"]);hangookdoApp.config(["$routeProvider",function(a){a.when("/",{templateUrl:"templates/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"templates/about.html",controller:"AboutCtrl"}).when("/contact",{templateUrl:"templates/contact.html",controller:"ContactCtrl"}).when("/links",{templateUrl:"templates/links.html",controller:"LinksCtrl"}).when("/membership",{templateUrl:"templates/membership.html",controller:"MembershipCtrl"}).when("/login",{templateUrl:"templates/login.html",controller:"LoginCtrl"}).when("/register",{templateUrl:"templates/register.html",controller:"RegisterCtrl"}).when("/activate",{templateUrl:"templates/activate.html",controller:"ActivateCtrl"}).when("/active",{templateUrl:"templates/active.html",controller:"ActiveCtrl"}).when("/lostpassword",{templateUrl:"templates/lostpassword.html",controller:"LostPasswordCtrl"}).when("/reset",{templateUrl:"templates/reset.html",controller:"ResetCtrl"}).when("/invalid",{templateUrl:"templates/invalid.html",controller:"InvalidCtrl"}).when("/news1",{templateUrl:"templates/website.html"}).when("/news2",{templateUrl:"templates/tshirt.html"}).when("/news3",{templateUrl:"templates/grading.html"}).otherwise({redirectTo:"/"})}]),hangookdoApp.controller("MainCtrl",["$scope","HangookdoService","$fileUploader","$window",function(a,b,c,d){function e(){a.slides=d.innerWidth<768?g:f}a.pageClass="page-home",a.myInterval=4e3;var f=[{style:{background:'url("images/title_1_c.png")',"background-color":"#8f2831","background-repeat":"no-repeat","background-position":"center"}},{style:{background:'url("images/title_2_c.png")',"background-color":"#000000","background-repeat":"no-repeat","background-position":"center"}},{style:{background:'url("images/title_3_c.png")',"background-color":"#3D577A","background-repeat":"no-repeat","background-position":"center"}},{style:{background:'url("images/title_4_c.png")',"background-color":"#FFA300","background-repeat":"no-repeat","background-position":"center"}},{style:{background:'url("images/title_5_c.png")',"background-color":"#AEBD63","background-repeat":"no-repeat","background-position":"center"}}],g=[{style:{background:'url("images/title_1_m.png")',"background-color":"#8f2831","background-repeat":"no-repeat","background-position":"center"}},{style:{background:'url("images/title_2_m.png")',"background-color":"#000000","background-repeat":"no-repeat","background-position":"center"}},{style:{background:'url("images/title_3_m.png")',"background-color":"#3D577A","background-repeat":"no-repeat","background-position":"center"}},{style:{background:'url("images/title_4_m.png")',"background-color":"#FFA300","background-repeat":"no-repeat","background-position":"center"}},{style:{background:'url("images/title_5_m.png")',"background-color":"#AEBD63","background-repeat":"no-repeat","background-position":"center"}}];e(),angular.element(d).bind("resize",function(){e()})}]),hangookdoApp.controller("AboutCtrl",["$scope","$location","$anchorScroll",function(a,b,c){a.pageClass="page-about",a.gotoTop=function(){b.hash(void 0==arguments[0]||null==arguments[0]?"top-page":arguments[0]),c()}}]),hangookdoApp.controller("ContactCtrl",["$scope","HangookdoService","$location","$anchorScroll",function(a,b,c,d){a.pageClass="page-contact",a.gotoTop=function(){c.hash(void 0==arguments[0]||null==arguments[0]?"top-page":arguments[0]),d()},a.email,a.sendEmail=function(){b.sendEmail(a.email).then(function(b){alert(b),a.email={}})}}]),hangookdoApp.controller("LinksCtrl",["$scope",function(a){a.pageClass="page-links"}]),hangookdoApp.controller("MembershipCtrl",["$scope","$location","$anchorScroll",function(a,b,c){a.pageClass="page-membership",a.gotoTop=function(){b.hash(void 0==arguments[0]||null==arguments[0]?"top-page":arguments[0]),c()}}]),hangookdoApp.controller("LoginCtrl",["$scope","$location","HangookdoService",function(a,b,c){a.pageClass="page-login",a.invalidLogin=!1,a.isLogin=!1,a.login=function(d){a.isLogin=!0,a.promise=c.login(d),a.promise.then(function(c){b.path(c.isUserActive?"/":"/activate"),a.isLogin=!1}),a.promise.catch(function(b){a.isLogin=!1,alert(b)})}}]),hangookdoApp.controller("RegisterCtrl",["$scope","$location","HangookdoService",function(a,b,c){a.pageClass="page-register",a.user,a.checkRequestId={},a.checkRequestEmail={},a.isRegister=!1,a.cancelRegistration=function(){b.path("/")},a.createUser=function(){a.isRegister=!0,a.promise=c.createUser(a.user),a.promise.then(function(c){a.isRegister=!1,alert(c),b.path("/activate")}),a.promise.catch(function(b){a.isRegister=!1,alert(b)})},a.$watch("user.userId",function(b){void 0!=b&&null!=b&&(a.checkRequestId.state&&"pending"===a.checkRequestId.state&&a.checkRequestId.request.reject("cancel due to new request"),b.length<5||(a.checkRequestId.request=c.checkId(b),a.checkRequestId.state="pending",a.checkRequestId.request.promise.then(function(b){a.user.idValid=b.isAvailable,a.checkRequestId.state="resolved"},function(a){console.log(a)})))}),a.$watch("user.email",function(b){void 0!=b&&null!=b&&("pending"==a.checkRequestEmail.state&&a.checkRequestEmail.request.reject("cancel due to new request"),EMAIL_REGEXP.test(b)&&(a.checkRequestEmail.request=c.checkEmail(b),a.checkRequestEmail.state="pending",a.checkRequestEmail.request.promise.then(function(b){a.user.emailValid=b.isAvailable,a.checkRequestEmail.state="resolved"},function(a){console.log(a)})))})}]),hangookdoApp.controller("NavCtrl",["$scope","$location","$cookieStore","HangookdoService",function(a,b,c,d){a.isLoggedIn,a.getFullName=function(){var b=d.getUser();a.fullName=b.firstname+" "+b.lastname},a.isActive=function(a){return a===b.path()},a.service=d,a.$watch("service.isLoggedIn()",function(b,c){b!==c&&(a.isLoggedIn=b,a.getFullName())})}]),hangookdoApp.controller("ActivateCtrl",["$scope","HangookdoService",function(a,b){a.pageClass="page-activate",a.isActivate=!1,a.reactivate=function(){a.isActivate=!0,a.promise=b.reactivate(),a.promise.then(function(b){alert(b),a.isActivate=!1}),a.promise.catch(function(b){alert(b),a.isActivate=!1})}}]),hangookdoApp.controller("ActiveCtrl",["$scope","$location","HangookdoService",function(a,b){a.pageClass="page-active",a.login=function(){b.path("login")}}]),hangookdoApp.controller("InvalidCtrl",["$scope","$location",function(a,b){a.pageClass="page-active",a.redirectReset=function(){b.path("lostpassword")}}]),hangookdoApp.controller("LostPasswordCtrl",["$scope","$location","HangookdoService",function(a,b,c){a.user,a.isLostPassword=!1,a.cancelLostPassword=function(){b.path("/")},a.resetPassword=function(){a.isLostPassword=!0,a.promise=c.resetPassword(a.user),a.promise.then(function(c){a.isLostPassword=!1,alert(c),b.path("/")}),a.promise.catch(function(b){a.isLostPassword=!1,alert(b)})}}]),hangookdoApp.controller("ResetCtrl",["$scope","$location","HangookdoService",function(a,b,c){a.user,a.isNewPassword=!1,a.cancelNewPassword=function(){b.path("/")},a.newPassword=function(){a.isNewPassword=!0,a.promise=c.newPassword(a.user),a.promise.then(function(c){a.isNewPassword=!1,alert(c),b.path("/")}),a.promise.catch(function(b){a.isNewPassword=!1,alert(b)})}}]),hangookdoApp.controller("FooterCtrl",["$scope","$location","$anchorScroll",function(a,b,c){a.gotoTop=function(){b.hash(void 0==arguments[0]||null==arguments[0]?"top-page":arguments[0]),c()}}]),hangookdoApp.directive("scrollSpy",["$window","$document",function(a,b){return{controller:["$scope",function(a){a.spies=[],this.addSpy=function(b){a.spies.push(b)}}],link:function(c,d){function e(){return a.scrollY+a.innerHeight==b.height()?void c.spies.forEach(function(a){a.isEnd?a.active():a.deactive()}):void c.spies.forEach(function(b){var c=f[b.id].offset().top,d=f[b.id].height()+c+20;(c<=a.scrollY||b.isStart)&&(a.scrollY<=d||b.isEnd)?b.active():b.deactive()})}var f=new Object;return c.$watch("spies",function(){c.spies.forEach(function(a){void 0==f[a.id]&&(f[a.id]=d.find("#"+a.id))})}),angular.element(a).bind("scroll",function(){e()})}}}]),hangookdoApp.directive("spy",["$window","$location","$anchorScroll",function(a,b,c){return{restrict:"A",scope:{firstspy:"=?",lastspy:"=?"},require:"^scrollSpy",link:function(a,d,e,f){a.firstspy=a.firstspy||!1,a.lastspy=a.lastspy||!1,d.click(function(){b.hash(e.spy),c()}),f.addSpy({id:e.spy,isStart:a.firstspy,isEnd:a.lastspy,active:function(){d.addClass("active")},deactive:function(){d.removeClass("active")}})}}}]),hangookdoApp.directive("angularAffix",["$window",function(a){return{scope:{top:"@",bottom:"@"},link:function(b,c,d){function e(){c.removeClass("affix"),c.removeClass("affix-bottom"),c.addClass("affix-top")}function f(){c.removeClass("affix-top"),c.removeClass("affix-bottom"),c.addClass("affix")}function g(){c.removeClass("affix"),c.removeClass("affix-top"),c.addClass("affix-bottom")}return b.resolveClass=function(){f(),void 0!=d.top&&a.scrollY<d.top&&e(),void 0!=d.bottom&&a.scrollY>d.bottom&&g()},angular.element(a).bind("scroll",function(){b.resolveClass()})}}}]);var INTEGER_REGEXP=/^\-?\d+$/;hangookdoApp.directive("integer",function(){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.unshift(function(a){return INTEGER_REGEXP.test(a)?(d.$setValidity("integer",!0),a):void d.$setValidity("integer",!1)})}}});var ALPHABET_REGEXP=/^[A-Za-z\s]+$/;hangookdoApp.directive("alphabet",function(){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.unshift(function(a){return ALPHABET_REGEXP.test(a)?(d.$setValidity("alphabet",!0),a):void d.$setValidity("alphabet",!1)})}}});var EMAIL_REGEXP=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;hangookdoApp.directive("email",function(){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.unshift(function(a){return EMAIL_REGEXP.test(a)?(d.$setValidity("email",!0),a):void d.$setValidity("email",!1)})}}}),hangookdoApp.directive("minLength",function(){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.unshift(function(a){return a.length>parseInt(c.minLength)?(d.$setValidity("minLength",!0),a):void d.$setValidity("minLength",!1)})}}}),hangookdoApp.directive("disableAnimation",["$animate",function(a){return{restrict:"A",link:function(b,c,d){d.$observe("disableAnimation",function(b){a.enabled(!b,c)})}}}]),hangookdoApp.directive("same",function(){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.unshift(function(a){return a===c.same?(d.$setValidity("same",!0),a):void d.$setValidity("same",!1)})}}}),hangookdoApp.service("HangookdoService",["$q","$http",function(a,b){function c(a){d=a}var d,e=function(){return d},f=function(){return d?!0:!1},g=function(c,d){var e=a.defer();return b({url:"file/create",method:"POST",data:{fileName:c,content:d},headers:{"Content-Type":"application/json"}}).success(function(a){e.resolve(a)}).error(function(){alert("could not able to upload file."),e.reject()}),e.promise},h=function(c){var d=a.defer();return c?b({url:"file/findall",params:{search:c},method:"GET"}).success(function(a){d.resolve(a)}).error(function(){alert("could not able to upload file."),d.reject()}):b({url:"file/findall",method:"GET"}).success(function(a){d.resolve(a)}).error(function(){alert("could not able to  get files."),d.reject()}),d.promise},i=function(c){var d=a.defer();return b({url:"file/remove",params:{fileid:c},method:"POST"}).success(function(a){d.resolve(a)}).error(function(){alert("could not able to  remove file."),d.reject()}),d.promise},j=function(c){var d=a.defer();return b({url:"email/sendmail",method:"POST",data:{firstname:c.firstName,lastname:c.lastName,emailaddress:c.eAddress,phone:c.phone,content:c.content},headers:{"Content-Type":"application/json"}}).success(function(a){d.resolve(a)}).error(function(){alert("Could not send a email. Please try later."),d.reject()}),d.promise},k=function(c){var d=a.defer();return b({url:"user/register",method:"POST",data:{userid:c.userId,password:c.psd,firstname:c.firstName,lastname:c.lastName,email:c.email},headers:{"Content-Type":"application/json"}}).success(function(a){d.resolve(a.message)}).error(function(a){d.reject(a.error)}),d.promise},l=function(c){var d=a.defer();return b({url:"user/checkid",method:"POST",data:{userid:c},headers:{"Content-Type":"application/json"}}).success(function(a){d.resolve(a)}).error(function(a){alert(a.error),d.reject()}),d},m=function(c){var d=a.defer();return b({url:"user/checkemail",method:"POST",data:{email:c},headers:{"Content-Type":"application/json"}}).success(function(a){d.resolve(a)}).error(function(a){alert(a.error),d.reject()}),d},n=function(d){var e=a.defer();return b({url:"user/login",method:"POST",data:{id:d.id,password:d.password},headers:{"Content-Type":"application/json"}}).success(function(a){a.isUserActive&&c(a),e.resolve(a)}).error(function(a){e.reject(a.error)}),e.promise},o=function(){var c=a.defer();return b({url:"user/sendmail",method:"POST",headers:{"Content-Type":"application/json"}}).success(function(a){c.resolve(a.message)}).error(function(a){c.reject(a.error)}),c.promise},p=function(c){var d=a.defer();return b({url:"user/passwordreset",method:"POST",data:{userid:c.userId,email:c.email},headers:{"Content-Type":"application/json"}}).success(function(a){d.resolve(a.message)}).error(function(a){d.reject(a.error)}),d.promise},q=function(c){var d=a.defer();return b({url:"user/reset",method:"POST",data:{newpsd:c.psd},headers:{"Content-Type":"application/json"}}).success(function(a){d.resolve(a.message)}).error(function(a){d.reject(a.error)}),d.promise};return{createFile:g,getFiles:h,removefile:i,sendEmail:j,createUser:k,checkId:l,checkEmail:m,login:n,reactivate:o,resetPassword:p,newPassword:q,isLoggedIn:f,getUser:e}}]);